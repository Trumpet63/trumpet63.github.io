{
  "version": 3,
  "sources": ["../../../src/index.js"],
  "sourcesContent": ["let suggestions = [];\r\nlet keyboardSelectedSuggestion = undefined;\r\nlet originalInputText = undefined;\r\n\r\nfunction onGetRecipeInputKeyDown(event) {\r\n    switch (event.code) {\r\n        case \"Enter\": {\r\n            if (keyboardSelectedSuggestion !== undefined) {\r\n                let recipeInput = document.getElementById(\"get-recipe-input\");\r\n                recipeInput.value = suggestions[keyboardSelectedSuggestion];\r\n                displayChangedKeyboardSelection(keyboardSelectedSuggestion, undefined);\r\n            }\r\n            getRecipe();\r\n            break;\r\n        }\r\n        case \"ArrowUp\": {\r\n            event.preventDefault();\r\n            if (suggestions.length > 0) {\r\n                let recipeInput = document.getElementById(\"get-recipe-input\");\r\n                if (keyboardSelectedSuggestion === undefined) {\r\n                    originalInputText = recipeInput.value;\r\n                    keyboardSelectedSuggestion = suggestions.length - 1;\r\n                    recipeInput.value = suggestions[keyboardSelectedSuggestion];\r\n                    displayChangedKeyboardSelection(undefined, keyboardSelectedSuggestion);\r\n                } else {\r\n                    let previousSelection = keyboardSelectedSuggestion;\r\n                    keyboardSelectedSuggestion--;\r\n                    if (keyboardSelectedSuggestion < 0) {\r\n                        keyboardSelectedSuggestion = undefined;\r\n                    }\r\n                    displayChangedKeyboardSelection(previousSelection, keyboardSelectedSuggestion);\r\n                    if (keyboardSelectedSuggestion === undefined) {\r\n                        recipeInput.value = originalInputText;\r\n                    } else {\r\n                        recipeInput.value = suggestions[keyboardSelectedSuggestion];\r\n                    }\r\n                }\r\n            }\r\n            break;\r\n        }\r\n        case \"ArrowDown\": {\r\n            event.preventDefault();\r\n            if (suggestions.length > 0) {\r\n                let recipeInput = document.getElementById(\"get-recipe-input\");\r\n                if (keyboardSelectedSuggestion === undefined) {\r\n                    originalInputText = recipeInput.value;\r\n                    keyboardSelectedSuggestion = 0;\r\n                    recipeInput.value = suggestions[keyboardSelectedSuggestion];\r\n                    displayChangedKeyboardSelection(undefined, keyboardSelectedSuggestion);\r\n                } else {\r\n                    let previousSelection = keyboardSelectedSuggestion;\r\n                    keyboardSelectedSuggestion++;\r\n                    if (keyboardSelectedSuggestion >= suggestions.length) {\r\n                        keyboardSelectedSuggestion = undefined;\r\n                    }\r\n                    displayChangedKeyboardSelection(previousSelection, keyboardSelectedSuggestion);\r\n                    if (keyboardSelectedSuggestion === undefined) {\r\n                        recipeInput.value = originalInputText;\r\n                    } else {\r\n                        recipeInput.value = suggestions[keyboardSelectedSuggestion];\r\n                    }\r\n                }\r\n            }\r\n            break;\r\n        }\r\n        case \"ArrowLeft\": {\r\n            if (suggestions.length > 0 && keyboardSelectedSuggestion !== undefined) {\r\n                event.preventDefault();\r\n                displayChangedKeyboardSelection(keyboardSelectedSuggestion, undefined);\r\n                keyboardSelectedSuggestion = undefined;\r\n                let recipeInput = document.getElementById(\"get-recipe-input\");\r\n                recipeInput.value = originalInputText;\r\n                originalInputText = undefined;\r\n            }\r\n            break;\r\n        }\r\n        case \"ArrowRight\": {\r\n            if (suggestions.length > 0 && keyboardSelectedSuggestion !== undefined) {\r\n                event.preventDefault();\r\n                displayChangedKeyboardSelection(keyboardSelectedSuggestion, undefined);\r\n                keyboardSelectedSuggestion = undefined;\r\n                let recipeInput = document.getElementById(\"get-recipe-input\");\r\n                recipeInput.value = originalInputText;\r\n                originalInputText = undefined;\r\n            }\r\n            break;\r\n        }\r\n    }\r\n}\r\nwindow.onGetRecipeInputKeyDown = onGetRecipeInputKeyDown;\r\n\r\nfunction onGetRecipeInputInput() {\r\n    keyboardSelectedSuggestion = undefined;\r\n    suggestions = getSuggestions();\r\n    let div = document.getElementById(\"get-recipe-suggestions\");\r\n    div.innerHTML = \"\";\r\n    div.className = \"\";\r\n    if (suggestions.length > 0) {\r\n        div.classList.add(\"suggestions-visible\");\r\n        let list = document.createElement(\"ul\");\r\n        for (let i = 0; i < suggestions.length; i++) {\r\n            let item = document.createElement(\"li\");\r\n            item.onclick = () => onItemClick(i);\r\n            item.innerText = suggestions[i];\r\n            list.appendChild(item);\r\n        }\r\n        div.appendChild(list);\r\n    }\r\n}\r\nwindow.onGetRecipeInputInput = onGetRecipeInputInput;\r\n\r\nfunction onClickGetRecipeButton() {\r\n    if (keyboardSelectedSuggestion !== undefined) {\r\n        let recipeInput = document.getElementById(\"get-recipe-input\");\r\n        recipeInput.value = suggestions[keyboardSelectedSuggestion];\r\n        displayChangedKeyboardSelection(keyboardSelectedSuggestion, undefined);\r\n    }\r\n    getRecipe();\r\n}\r\nwindow.onClickGetRecipeButton = onClickGetRecipeButton\r\n\r\nfunction onItemClick(suggestionIndex) {\r\n    let recipeInput = document.getElementById(\"get-recipe-input\");\r\n    recipeInput.value = suggestions[suggestionIndex];\r\n    getRecipe();\r\n}\r\n\r\nfunction displayChangedKeyboardSelection(previous, current) {\r\n    let suggestionElements = document.getElementById(\"get-recipe-suggestions\").getElementsByTagName(\"li\");\r\n    if (previous !== undefined) {\r\n        suggestionElements[previous].className = \"\";\r\n    }\r\n    if (current !== undefined) {\r\n        suggestionElements[current].className = \"suggestions-keyboard-selected\";\r\n    }\r\n}\r\n\r\nfunction getSuggestions() {\r\n    let recipeInput = document.getElementById(\"get-recipe-input\");\r\n    let input = recipeInput.value.toString().toLowerCase();\r\n    if (input.length < 1) {\r\n        return [];\r\n    }\r\n    let maxSuggestions = 10;\r\n    let suggestions = [];\r\n\r\n    // Find suggestions by prefix, case-insensitive\r\n    let prefixSuggestions = [];\r\n    let allObjectNames = Object.keys(objects);\r\n    for (let i = 0; i < allObjectNames.length; i++) {\r\n        if (allObjectNames[i].toLowerCase().startsWith(input)) {\r\n            prefixSuggestions.push(allObjectNames[i]);\r\n            if (prefixSuggestions.length >= maxSuggestions) {\r\n                break;\r\n            }\r\n        }\r\n    }\r\n    prefixSuggestions.sort((a, b) => a.length - b.length);\r\n    suggestions = suggestions.concat(prefixSuggestions);\r\n\r\n    // Find more suggestions by substring, case-insensitive\r\n    let remainingSuggestions = maxSuggestions - suggestions.length;\r\n    if (remainingSuggestions > 0) {\r\n        let substringSuggestions = [];\r\n        for (let i = 0; i < allObjectNames.length; i++) {\r\n            if (allObjectNames[i].toLowerCase().includes(input)\r\n                && !prefixSuggestions.includes(allObjectNames[i])\r\n            ) {\r\n                substringSuggestions.push(allObjectNames[i]);\r\n                if (substringSuggestions.length >= remainingSuggestions) {\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n        substringSuggestions.sort((a, b) => a.length - b.length);\r\n        suggestions = suggestions.concat(substringSuggestions);\r\n    }\r\n\r\n    return suggestions;\r\n}\r\n\r\nfunction getRecipe() {\r\n    // hide suggestions\r\n    let div = document.getElementById(\"get-recipe-suggestions\");\r\n    div.innerHTML = \"\";\r\n    div.className = \"\";\r\n\r\n    // do auto-capitalization if the first suggestion is case-insensitively identical\r\n    suggestions = getSuggestions();\r\n    let recipeInput = document.getElementById(\"get-recipe-input\");\r\n    let input = recipeInput.value.toString();\r\n    if (input.toLowerCase() === suggestions[0].toLowerCase()) {\r\n        input = suggestions[0];\r\n        recipeInput.value = input;\r\n    }\r\n\r\n    let recipe = recipes[input];\r\n    let recipeDiv = document.getElementById(\"recipe-steps-div\");\r\n    recipeDiv.innerHTML = \"\";\r\n    if (recipe === undefined) {\r\n        recipeDiv.innerText = \"No recipe found\";\r\n    } else {\r\n        for (let i = 0; i < recipe.length; i++) {\r\n            let step = recipe[i];\r\n            let firstText = step[0];\r\n            let firstEmoji = objects[firstText].emoji;\r\n            let secondText = step[1];\r\n            let secondEmoji = objects[secondText].emoji;\r\n            let resultText = step[2];\r\n            let resultEmoji = objects[resultText].emoji;\r\n\r\n            let firstDiv = createObjectElement(firstText, firstEmoji);\r\n            let secondDiv = createObjectElement(secondText, secondEmoji);\r\n            let resultDiv = createObjectElement(resultText, resultEmoji);\r\n\r\n            let div = document.createElement(\"div\");\r\n            div.classList.add(\"recipe-step-div\");\r\n            div.appendChild(firstDiv);\r\n            div.innerHTML += \" + \";\r\n            div.appendChild(secondDiv);\r\n            div.innerHTML += \" = \";\r\n            div.appendChild(resultDiv);\r\n\r\n            recipeDiv.appendChild(div);\r\n        }\r\n    }\r\n\r\n    // state management stuff\r\n    keyboardSelectedSuggestion = undefined;\r\n    originalInputText = undefined;\r\n    suggestions = [];\r\n}\r\n\r\nfunction createObjectElement(text, emoji) {\r\n    let div = document.createElement(\"div\");\r\n    div.classList.add(\"object-div\");\r\n    let span = document.createElement(\"span\");\r\n    span.classList.add(\"object-span\");\r\n    span.innerText = emoji;\r\n    div.appendChild(span);\r\n    div.innerHTML += \" \" + text + \" \";\r\n    return div;\r\n}\r\n"],
  "mappings": "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",
  "names": ["suggestions", "div"]
}
